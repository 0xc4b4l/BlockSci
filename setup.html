

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Local setup &mdash; BlockSci 0.5.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Reference" href="reference/reference.html" />
    <link rel="prev" title="Compiling BlockSci" href="compiling.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> BlockSci
          

          
          </a>

          
            
            
              <div class="version">
                0.5.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="readme.html">BlockSci</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="compiling.html">Compiling BlockSci</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Local setup</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#blocksci-parser">BlockSci Parser</a></li>
<li class="toctree-l2"><a class="reference internal" href="#incremental-updates">Incremental updates</a></li>
<li class="toctree-l2"><a class="reference internal" href="#mempool-recorder">Mempool Recorder</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="reference/reference.html">Reference</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">BlockSci</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Local setup</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/setup.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="local-setup">
<h1>Local setup<a class="headerlink" href="#local-setup" title="Permalink to this headline">¶</a></h1>
<p>BlockSci is composed of two major components, the parser, and the analysis library. The parser is used to generate the backing blocksci database format. The analysis library can then be pointed at the generated data.</p>
<p>Note that BlockSci runs best with 64GB of RAM or above though 32 GB is feasable although much slower.</p>
<div class="section" id="blocksci-parser">
<h2>BlockSci Parser<a class="headerlink" href="#blocksci-parser" title="Permalink to this headline">¶</a></h2>
<p>The BlockSci parser extracts blockchain data generated by a full node (such as bitcoind or an altcoin node). Thus to set up BlockSci, you must first run a full node.</p>
<p>The BlockSci parser provides two different mechanisms for processing blockchain data, a disk mode and a RPC mode.</p>
<p>Disk mode is optimized for parsing Bitcoin’s data files. It reads blockchain data directly from disk in a rapid manner. However this means that it does not work on many other blockchains which have different serialization formats than Bitcoin.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>blocksci_parser --output-directory bitcoin-data update disk --coin-directory .bitcoin
</pre></div>
</div>
<p>RPC mode uses the RPC interface of a cryptocurrency to extract data regarding the blockchain. It works with a variety of cryptocurrencies which have the same general model as Bitcoin, but with minor changes to the serialization format which break the parser in disk mode. Examples of this are Zcash and Namecoin. To use the parser in RPC mode, you’re full node must be running with txindex enabled.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>blocksci_parser --output-directory bitcoin-data update rpc --username <span class="o">[</span>user<span class="o">]</span> --password <span class="o">[</span>pass<span class="o">]</span> --address <span class="o">[</span>ip<span class="o">]</span> --port <span class="o">[</span>port<span class="o">]</span>
</pre></div>
</div>
</div>
<div class="section" id="incremental-updates">
<h2>Incremental updates<a class="headerlink" href="#incremental-updates" title="Permalink to this headline">¶</a></h2>
<p>BlockSci can be kept up to date with the blockchain by setting up a cronjob to periodically run the parser command. Updates to the parser should not noticeably impact usage of the analysis library. It is recommended that the Blockchain be kept approximately 6 blocks back from the head of the chain in order to avoid imperfect reorg handling in BlockSci.</p>
<p>For example you can set BlockSci to update hourly and stay 6 blocks behind the head of the chain via adding</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>@hourly /usr/local/bin/blocksci_parser --output-directory /home/ubuntu/bitcoin-data update --max-block -6 disk --coin-directory /home/ubuntu/.bitcoin
</pre></div>
</div>
<p>to your system <a class="reference external" href="https://help.ubuntu.com/community/CronHowto">crontab</a>.</p>
</div>
<div class="section" id="mempool-recorder">
<h2>Mempool Recorder<a class="headerlink" href="#mempool-recorder" title="Permalink to this headline">¶</a></h2>
<p>BlockSci provides an optional mempool recorder will record the arrival times of blocks and transactions at your local node. The recorder works by repeatedly pinging the RPC interface and obvserving as new transactions arrive. This data is accessable directly through the python API via <cite>Tx.time_seen</cite> and <cite>Block.time_seen</cite> which will return a datetime or <cite>None</cite> if the transaction or block was not observed.</p>
<p>Running the mempool recorder is very similar to running the parser in RCP mode.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mempool_recorder &lt;data location&gt; --username &lt;username&gt; --password &lt;password&gt; <span class="o">[</span>--address &lt;address&gt;<span class="o">]</span> <span class="o">[</span>--port &lt;port&gt;<span class="o">]</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="reference/reference.html" class="btn btn-neutral float-right" title="Reference" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="compiling.html" class="btn btn-neutral" title="Compiling BlockSci" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Harry Kalodner.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.5.0',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>